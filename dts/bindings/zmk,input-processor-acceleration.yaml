# SPDX-License-Identifier: MIT
description: ZMK Velocity-Based Pointer Acceleration Input Processor

compatible: "zmk,input-processor-acceleration"

properties:
  input-type:
    type: int
    required: true
    description: Input event type to accelerate (e.g. INPUT_EV_REL for relative events)

  codes:
    type: array
    required: true
    description: Array of event code values to accelerate (e.g. REL_X, REL_Y)

  min-factor:
    type: int
    default: 1000 # 1.000x (no deceleration by default)
    description: Minimum pointer speed factor (scaled by 1000). Values <1000 slow down movements at very low speeds (e.g. 500 for 0.5x).

  max-factor:
    type: int
    default: 3500 # 3.500x
    description: Maximum pointer speed factor (scaled by 1000). Movement will be accelerated up to this factor at high speeds.

  speed-threshold:
    type: int
    default: 1000 # counts per second
    description: Pointer speed (counts per second) at which acceleration factor reaches 1.0 (no scaling). Below this speed, movements may be decelerated; above it, movements accelerate.

  speed-max:
    type: int
    default: 6000 # counts per second
    description: Pointer speed (counts per second) at which the acceleration factor reaches max-factor. Movements faster than this use the maximum acceleration.

  acceleration-exponent:
    type: int
    default: 2 # 2 = mild exponential
    description: |
      Acceleration curve type:
      1 = Linear curve (f(t) = t)
      2 = Mild exponential curve (f(t) = e^(2t) - 1) [DEFAULT]
      3 = Moderate exponential curve (f(t) = e^(3t) - 1)
      4 = Strong exponential curve (f(t) = e^(4t) - 1)
      5 = Aggressive exponential curve (f(t) = e^(5t) - 1)
      10 = Quadratic polynomial (f(t) = t^2)
      11 = Cubic polynomial (f(t) = t^3)
      12 = Quartic polynomial (f(t) = t^4)
      13 = Quintic polynomial (f(t) = t^5)
      Exponential curves (2-5) provide natural acceleration feel, while polynomial curves (10+) offer more predictable mathematical progression.

  track-remainders:
    type: boolean
    description: Accumulate and apply fractional movement remainders for higher precision.

  pair-window-ms:
    type: int
    default: 10
    description: Time window in milliseconds to pair X/Y events for acceleration.

  x-aspect-scale:
    type: int
    description: X axis aspect ratio scaling factor

  y-aspect-scale:
    type: int
    default: 1500
    description: Scale factor for Y axis movement to adjust for screen aspect ratio (scaled by 1000, e.g. 1500 = 1.5x).

  sensor-dpi:
    type: int
    default: 1600
    description: Mouse sensor DPI/CPI setting. Used for automatic scaling adjustment. Higher DPI sensors will have reduced acceleration to prevent oversensitivity.

  target-dpi:
    type: int
    description: Target DPI for pointer movement scaling. Used to adjust acceleration for a desired on-screen sensitivity.

  dpi-multiplier:
    type: int
    description: Multiplier for DPI scaling, used to fine-tune pointer sensitivity (scaled by 1000, e.g. 1500 = 1.5x).
